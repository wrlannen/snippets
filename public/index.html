<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Snippets: Minimal local scratchpad for code & notes</title>
  <meta name="description" content="Minimal local scratchpad for code & notes. Everything stored locally in your browser, no account required." />
  <meta name="robots" content="index,follow" />
  <meta name="application-name" content="Snippets" />
  <meta name="color-scheme" content="dark" />

  <!-- Open Graph / Social Preview -->
  <meta property="og:title" content="Snippets: Minimal local scratchpad for code & notes" />
  <meta property="og:description" content="Minimal local scratchpad for code & notes. Everything stored locally in your browser, no account required." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/icon-512.png" />
  <meta property="og:image:width" content="512" />
  <meta property="og:image:height" content="512" />

  <!-- Canonical & OG URL -->
  <link rel="canonical" href="https://snippets.dev/" />
  <meta property="og:url" content="https://snippets.dev/" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Snippets: Minimal local scratchpad for code & notes" />
  <meta name="twitter:description" content="Minimal local scratchpad for code & notes. Everything stored locally in your browser, no account required." />
  <meta name="twitter:image" content="/icon-512.png" />

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png" />
  <link rel="apple-touch-icon" href="/icon-192.png" />

  <!-- Apple-specific meta tags for PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Snippets">

  <!-- Theme color for browser chrome -->
  <meta name="theme-color" content="#1e1e1e">

  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='8' fill='%23232323'/%3E%3Ctext x='16' y='22' text-anchor='middle' font-size='18' fill='white' font-family='monospace'%3ES%3C/text%3E%3C/svg%3E" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=Roboto+Mono:wght@400..700&family=JetBrains+Mono:wght@400..800&family=Source+Code+Pro:wght@400..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="vendor/codemirror.min.css">
  <link rel="stylesheet" href="vendor/dracula.min.css">
  <link rel="stylesheet" href="/tailwind.output.css">

  <script src="/dist/sidebar-state.js"></script>
</head>

<body
  class="h-screen overflow-hidden bg-[#1e1e1e] text-gray-300 antialiased selection:bg-[#3a6996] selection:text-white">
  <!-- Hidden file input for importing snippets -->
  <input type="file" id="importFileInput" accept=".json" class="hidden" aria-hidden="true" />
  <noscript>
    <div style="padding: 16px; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color: #e5e7eb; background: #111827;">
      Snippets is a JavaScript app. Please enable JavaScript to use the editor.
    </div>
  </noscript>
  <!-- Mobile overlay: shown only on small screens -->
  <div id="mobileOverlay" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#181818] text-gray-200 text-center px-6 py-12 md:hidden">
    <div class="max-w-xs mx-auto flex flex-col items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="mb-6 w-12 h-12" width="48" height="48" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="4" y="2" width="16" height="20" rx="3" fill="#232323"/><rect x="8" y="18" width="8" height="1.5" rx="0.75" fill="#333"/><rect x="10.5" y="4" width="3" height="0.5" rx="0.25" fill="#333"/></svg>
      <h2 class="text-xl font-semibold mb-2">Desktop Only</h2>
      <p class="text-gray-400 mb-4 text-sm">This app is designed for desktop browsers.<br>Please visit from a larger screen for the best experience.</p>
    </div>
  </div>
  <div id="appMain" class="hidden h-screen flex-col app-main">
    <div class="flex flex-1 min-h-0">
      <!-- Sidebar -->
      <aside id="sidebar" class="relative flex flex-col border-r border-[#252526] bg-[#1e1e1e] w-[300px] min-w-[120px] max-w-[500px]">
        <div id="searchWrapper" class="p-3 pt-4">
          <div class="relative">
            <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <input type="text" id="search" placeholder="Search snippets..."
              class="w-full pl-10 pr-4 py-2 bg-transparent border border-[#333] rounded-md text-sm text-gray-200 placeholder-gray-500 focus:border-[#007acc] focus:ring-1 focus:ring-[#007acc] transition-colors" />
          </div>
        </div>
        <div class="flex-1 overflow-y-auto">
          <ul id="list" class=""></ul>
          <div id="empty" class="hidden flex flex-col items-center justify-center px-8 py-20 text-center">
            <h3 class="text-lg font-semibold text-gray-200 mb-2">Ready to code?</h3>
            <p class="text-sm text-gray-500 mb-6 max-w-xs">Start typing your first snippet. Everything saves automatically and works offline.</p>
          </div>
        </div>
      </aside>
      <!-- Main Editor -->
      <main class="flex flex-1 flex-col bg-[#252526]">
        <div class="flex-1 overflow-hidden relative flex">
          <textarea id="content"
            class="h-full w-full resize-none bg-[#252526] pl-4 pr-8 pt-1 pb-6 text-gray-300 outline-none font-medium z-[1]"></textarea>
        </div>
      </main>
    </div>
    <!-- Bottom toolbar and status bar -->
    <div
      class="flex items-center justify-between border-t border-[#2d2d2d] bg-[#1e1e1e] px-4 py-2 text-xs text-gray-400">
      <!-- Left: Status and shortcuts -->
      <div class="flex items-center gap-3">
        <span id="status">Editing</span>
        <span class="text-gray-400">|</span>
        <span id="charCount">0 characters</span>
        <span class="text-gray-400">|</span>
        <span class="text-gray-400 text-xs"><span id="modKey">⌘</span>K Commands</span>
      </div>
      <!-- Right: Language selector and font controls -->
      <div class="flex items-center gap-2">
        <select id="languageSelector" 
          class="bg-transparent border border-[#333] rounded px-2 py-0.5 text-xs text-gray-400 hover:text-gray-300 hover:border-[#444] focus:border-[#007acc] focus:ring-1 focus:ring-[#007acc] transition-colors cursor-pointer"
          title="Change syntax highlighting">
          <option value="javascript">JavaScript</option>
          <option value="javascript">TypeScript</option>
          <option value="python">Python</option>
          <option value="sql">SQL</option>
          <option value="shell">Shell</option>
          <option value="markdown">Markdown</option>
          <option value="yaml">YAML</option>
          <option value="htmlmixed">HTML</option>
          <option value="css">CSS</option>
          <option value="xml">XML</option>
          <option value="null">Plain Text</option>
        </select>
        <span class="text-gray-700">|</span>
        <div class="flex items-center">
          <button id="decreaseFont" class="px-2 py-1 rounded hover:bg-[#2d2d2d] text-gray-400 hover:text-gray-300"
            title="Decrease font size">A-</button>
          <button id="increaseFont" class="px-2 py-1 rounded hover:bg-[#2d2d2d] text-gray-400 hover:text-gray-300"
            title="Increase font size">A+</button>
        </div>
        <span class="text-gray-400">|</span>
        <button id="aboutBtn"
          class="px-2 py-1 rounded hover:bg-[#2d2d2d] text-gray-400 hover:text-gray-300 flex items-center gap-1"
          title="About">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
            <path fill-rule="evenodd"
              d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Command Palette -->
  <div id="commandPalette"
    class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 pt-[15vh] transition-opacity duration-150">
    <div
      class="bg-[#1c1c1c] border border-[#333] rounded-lg shadow-2xl w-full max-w-[600px] overflow-hidden transform transition-all">
      <!-- Search Input -->
      <div class="border-b border-[#2a2a2a] p-3">
        <input type="text" id="commandPaletteInput" placeholder="Type a command..."
          class="w-full bg-transparent text-gray-200 text-base placeholder-gray-600 outline-none" autocomplete="off" />
      </div>
      <!-- Commands List -->
      <div id="commandPaletteList" class="max-h-[400px] overflow-y-auto"></div>
    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal"
    class="hidden fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-200">

    <div
      class="bg-[#1c1c1c] border border-[#333] rounded-2xl shadow-2xl w-full max-w-[520px] max-h-[85vh] overflow-hidden transform transition-all scale-100 flex flex-col">

      <!-- Header -->
      <div class="px-6 pt-6 pb-4 flex items-center justify-between border-b border-[#2a2a2a]">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 bg-[#1e1e1e] rounded-lg flex items-center justify-center border border-[#333] shadow-sm">
            <span class="text-white font-bold font-mono text-lg">S</span>
          </div>
          <h2 class="text-xl font-semibold text-white tracking-tight">Snippets</h2>
        </div>
        <button id="closeAboutModal"
          class="text-gray-500 hover:text-white transition-colors p-2 hover:bg-[#333] rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
            <path
              d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
          </svg>
        </button>
      </div>

      <!-- Content -->
      <div class="px-6 py-6 space-y-6 overflow-y-auto">

        <!-- Description -->
        <div class="bg-[#181818] border border-[#2a2a2a] rounded-xl p-4 space-y-3 text-[13px] text-gray-400 leading-relaxed font-light">
          <div class="space-y-3">
            <div>
              Minimal local scratchpad for code & notes. Everything is stored in the browser. Use the Command Palette (⌘K / Ctrl+K) to export and import backups.
            </div>
            <div class="pt-1">
              <a href="https://github.com/wrlannen/snippets" target="_blank" rel="noopener"
                class="inline-flex items-center gap-2 text-[#007acc] hover:underline text-[13px] font-medium">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
                  <path
                    d="M10 2C5.58 2 2 5.58 2 10c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.03 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0 0 18 10c0-4.42-3.58-8-8-8z" />
                </svg>
                <span>View on GitHub</span>
              </a>
            </div>
          </div>
          <div class="text-gray-400 text-[13px]">
            Please, any feedback, feature requests, or bugs as a GitHub issue.
          </div>
        </div>

        <!-- Install Section (Dynamic) -->
        <div id="installSection" class="hidden">
          <div class="bg-[#181818] border border-[#2a2a2a] rounded-xl p-4 space-y-3">
            <h3 class="text-[11px] font-semibold text-gray-500 uppercase tracking-wider">Install as App</h3>

          <!-- Chrome/Edge -->
            <div id="pwaInstallable" class="hidden">
              <div class="flex items-center justify-between group">
                <span class="text-[13px] text-gray-400">Install on Chrome</span>
                <button id="installPwaBtn"
                  class="px-3 py-1.5 bg-[#007acc] hover:bg-[#0063a5] text-white text-[11px] font-medium rounded shadow-sm transition-all flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0l-4 4m4-4v12"></path>
                  </svg>
                  Install
                </button>
              </div>
            </div>

          <!-- Safari -->
            <div id="pwaSafari" class="hidden">
              <div class="flex items-center justify-between group">
                <span class="text-[13px] text-gray-400">Install on macOS</span>
                <div class="flex items-center gap-2 text-xs text-gray-300">
                  <span
                    class="bg-[#252526] px-1.5 py-0.5 rounded border border-[#333] font-mono text-[10px] text-gray-400">File</span>
                  <span class="text-gray-600">→</span>
                  <span
                    class="bg-[#252526] px-1.5 py-0.5 rounded border border-[#333] font-mono text-[10px] text-gray-400">Add
                    to Dock...</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Shortcuts -->
        <div class="bg-[#181818] border border-[#2a2a2a] rounded-xl p-4 space-y-3">
          <h3 class="text-[11px] font-semibold text-gray-500 uppercase tracking-wider">Shortcuts</h3>
          <div class="space-y-2.5">
            <div class="flex items-center justify-between group">
              <span class="text-[13px] text-gray-400 group-hover:text-gray-300 transition-colors">Command palette</span>
              <div class="flex gap-1.5">
                <kbd id="modalModKey1"
                  class="min-w-[24px] h-6 flex items-center justify-center bg-[#252526] border border-[#333] rounded text-[10px] font-mono text-gray-400 shadow-sm">⌘</kbd>
                <kbd
                  class="min-w-[24px] h-6 flex items-center justify-center bg-[#252526] border border-[#333] rounded text-[10px] font-mono text-gray-400 shadow-sm">K</kbd>
              </div>
            </div>
            <div class="flex items-center justify-between group">
              <span class="text-[13px] text-gray-400 group-hover:text-gray-300 transition-colors">Toggle sidebar</span>
              <div class="flex gap-1.5">
                <kbd id="modalModKey2"
                  class="min-w-[24px] h-6 flex items-center justify-center bg-[#252526] border border-[#333] rounded text-[10px] font-mono text-gray-400 shadow-sm">⌘</kbd>
                <kbd
                  class="min-w-[24px] h-6 flex items-center justify-center bg-[#252526] border border-[#333] rounded text-[10px] font-mono text-gray-400 shadow-sm">/</kbd>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>


  <script src="/dist/vendor.js"></script>
  <script type="module" src="/dist/app.js"></script>
</body>

</html>